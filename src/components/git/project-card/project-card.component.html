<div class="body flex flex-col justify-between">
  <div>
    <!-- Title, contributors, counts -->
    <div
      class="flex flex-wrap items-center justify-between gap-3 margin text-primary"
    >
      <div class="flex items-center gap-3">
        <!-- Title -->
        <h3
          class="text-2xl mb-1 font-semibold hover:underline hover:underline-offset-8"
        >
          <a [href]="projectCard().repo.html_url" target="_blank">
            <span class="text-slate-300 font-light"
              >{{ projectCard().repo.owner.login }}/</span
            >{{ projectCard().repo.name }}
          </a>
        </h3>

        <!-- Contributors -->
        <div class="flex">
          @for (contributor of projectCard().contributors; track $index) {
            <div
              class="rounded-full overflow-clip border-2 border-primary hover:outline hover:outline-2 hover:outline-blue-500 -me-3"
              [title]="contributor.login"
            >
              <a [href]="contributor.html_url" target="_blank">
                <img
                  class="w-8 h-8"
                  [src]="contributor.avatar_url"
                  alt="repo owner"
                />
              </a>
            </div>
          }
        </div>

        <!-- Repo flairs -->
        @if (projectCard().repo.fork) {
          <span class="font-light text-lg text-slate-300">fork</span>
        }
        @if (projectCard().repo.private) {
          <span class="font-light text-lg text-slate-300">private</span>
        }
      </div>

      <!-- Repo counts -->
      <div class="flex gap-3">
        <div class="chip bg-primary">
          {{ projectCard().repo.open_issues_count }} open issues
          <!-- ðŸ“ -->
        </div>
        <div class="chip bg-primary">
          {{ projectCard().repo.stargazers_count }} <!-- stars -->
          <svg
            aria-hidden="true"
            height="16"
            viewBox="0 0 16 16"
            version="1.1"
            width="16"
            data-view-component="true"
            class="octicon octicon-star-fill starred-button-icon d-inline-block mr-2"
          >
            <path
              d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"
            ></path>
          </svg>
          <!-- ðŸ¤© -->
        </div>
        <div class="chip bg-primary">
          {{ projectCard().repo.watchers_count }} watchers
          <!-- ðŸ‘ -->
        </div>
      </div>
    </div>

    <!-- Dates -->
    <div
      class="flex flex-wrap gap-3 font-light padded-x py-2 bg-secondary text-secondary"
    >
      <div>Created {{ projectCard().repo.created_at | TimeFromNow }} ago</div>
      <div class="border-r text-secondary"></div>
      <div>
        Last updated {{ projectCard().repo.updated_at | TimeFromNow }} ago
      </div>
    </div>

    <!-- Description -->
    @if (projectCard().repo.description) {
      <div class="margin text-primary">
        {{ projectCard().repo.description }}
      </div>
    }
  </div>

  <!-- Topics and Languages -->
  <div>
    <!-- Topics -->
    @if (projectCard().repo.topics.length > 0) {
      <div class="chips margin">
        @for (chip of projectCard().repo.topics; track $index) {
          <div class="chip bg-primary text-primary">
            {{ chip }}
          </div>
        }
      </div>
    }

    <!-- Languages & Chips -->
    @if (appSettings.settings.features.languages) {
      @if (projectCard().repo.private) {
        <div class="italic text-primary chip">No language information</div>
      } @else {
        <div class="margin">
          <app-languages [languages]="projectCard().languages" />
        </div>
      }
    }
  </div>
</div>

<!-- Buttons -->
<!-- <div> -->
<!-- TODO: Add a disabled button with a disabled icon for when no actions are available -->
<!-- @for (iconButton of projectCard().iconButtons; track $index) {
      <a
        [href]="iconButton.href"
        rel="noreferrer"
        target="_blank"
        [matTooltip]="iconButton.title"
      >
        {{ iconButton.icon }}
      </div>
      </a>
    } -->
<!-- </div> -->

<!-- Image -->
<!-- @if (projectCard().image !== undefined) {
  <div class="image-container">
    <img
      [alt]="projectCard().image!.alt"
      [src]="projectCard().image!.url"
      [title]="projectCard().image!.title"
      class="image"
    />
  </div>
} -->
<!-- @else {
    <div
      class="image-container h-full flex items-center justify-center"
    >
      <div class="text-slate-300 text-center">No Image</div>
  </div>
} -->
